<div class="wrapper">

  <header-bar></header-bar>
  <!-- Left side column. contains the logo and sidebar -->
  <side-bar></side-bar>

  <!-- Content Wrapper. Contains coupons content -->
  <div class="content-wrapper" >
    <!-- Content Header (Category header) -->
    <section class="content-header">
      <h1>
        {{Ctrl.title}}
        <small>Control panel</small>
      </h1>
      <ol class="breadcrumb">
        <li><a href="javascript:void(0)"><i class="fa fa-dashboard"></i> Home</a></li>
        <li class="active">Dashboard</li>
      </ol>
    </section>

    <!-- Main content -->
    <section class="content">
      <div class="row">
        <div class="col-xs-12">
          <div class="box">
            <div class="box-header">
              <h3 class="box-title">{{Ctrl.title}}</h3>
            </div>
            <notification-bar alert-data="Ctrl.notify"></notification-bar>
            <!-- /.box-header -->
            <div class="box-body">

              <table id="example2" class="table table-bordered table-hover">
                <thead>
                  <tr>
                    <th>S.No</th>
                    <th>Coupon Name</th>
                    <th>Desciption</th>
                    <th>User</th>
                    <th>Code</th>
                    <th>Start</th>
                    <th>Expiry</th>
                    <th>Action</th>
                  </tr>
                  <tr>
                    <td></td>
                    <td><input type="text" class="form-control" ng-model="Ctrl.search.name"></td>
                    <td><input type="text" class="form-control" ng-model="Ctrl.search.description"></td>
                    <td><input type="text" class="form-control" ng-model="Ctrl.search.user"></td>
                      <td><input type="text" class="form-control" ng-model="Ctrl.search.code"></td>
                    <td><input type="text" class="form-control" ng-model="Ctrl.search.start"></td>
                    <td><input type="text" class="form-control" ng-model="Ctrl.search.expiry"></td>
                    <td></td>
                  </tr>
                </thead>
                <tbody>

                  <tr ng-repeat="coupon in Ctrl.coupons | filter:Ctrl.search">
                    <td>{{$index+1}}</td>
                    <td>{{coupon.name}}</td>
                    <td>{{coupon.description}}</td>
                    <td>{{coupon.uses}}</td>
                    <td>{{coupon.code}}</td>
                    <td>
                    {{coupon.start}}
                    </td>
                    <td>
                    {{coupon.expiry}}
                    </td>

                    <td>
                      <edit-button href="#/coupons/{{coupon._id}}" title="Edit Coupon"></edit-button>
                      <a href="javascript:void(0)" ng-click="Ctrl.updateStatus(coupon._id, !coupon.status, $index)" title="Update User">
                        <i class="fa fa-arrow-up"></i>
                      </a>
                      <delete-button ng-click="Ctrl.remove(coupon._id, $index)" title="Delete User"></delete-button>
                    </td>
                  </tr>
                </tbody>
                <tfoot>
                  <tr>
                    <th>S.No</th>
                    <th>Coupon Name</th>
                    <th>Desciption</th>
                    <th>Uses</th>
                    <th>Code</th>
                    <th>Start</th>
                    <th>Expiry</th>
                    <th>Action</th>
                  </tr>
                </tfoot>
              </table>
            </div>
          </div>

          <!-- /.content -->
        </div>
      </div>
    </section>
    <!-- /.content-wrapper -->

    <footer-bar></footer-bar>
    <div class="control-sidebar-bg"></div>
  </div>
  <!-- ./wrapper -->
